<html>
    <head>
        <!-- Link to external stylesheets -->
        <link rel="stylesheet" href="../resources/story/sources/index.css" />
        <link
            rel="stylesheet"
            href="../resources/story/sources/page0/page0.css"
        />
        <link
            rel="stylesheet"
            href="../resources/story/sources/page1/page1.css"
        />
        <link
            rel="stylesheet"
            href="../resources/story/sources/page2/page2.css"
        />
        <link
            rel="stylesheet"
            href="../resources/story/sources/page3/page3.css"
        />
        <link
            rel="stylesheet"
            href="../resources/story/sources/page4/page4.css"
        />
        <link
            rel="stylesheet"
            href="../resources/story/sources/page5/page5.css"
        />
        <link
            rel="stylesheet"
            href="../resources/story/sources/page6/page6.css"
        />

        <!-- Import fontawesome lib -->
        <link
            rel="stylesheet"
            href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
            integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
            crossorigin="anonymous"
        />
    </head>

    <body>
        <!-- Page 0 (header) -->
        <div id="page0" class="pageBox" animation="p0tl">
            <div id="panel1" class="panelBox">
                <div id="e1" class="elementBox">
                    <img
                        src="../resources/story/resources/page0/panel1/1-title.png"
                        style="width: 100%; height: auto;"
                    />
                </div>

                <div id="e2" class="elementBox">
                    <img
                        src="../resources/story/resources/page0/panel1/2-center.png"
                        style="width: 100%; height: auto;"
                    />
                </div>

                <div id="e3" class="elementBox">
                    <img
                        src="../resources/story/resources/page0/panel1/3-author.png"
                        style="width: 100%; height: auto;"
                    />
                </div>
            </div>
            <div id="arrow" class="scrollArrow">
                <img
                    src="../resources/story/resources/downarrow.png"
                    style="width: 100%; height: auto;"
                />
            </div>
        </div>

        <!-- Page 1 -->
        <div id="page1" class="pageBox" animation="p1tl">
            <div id="panel1" class="panelBox">
                <div id="e1" class="elementBox">
                    <img
                        src="../resources/story/resources/page1/panel1/1-commsCheck.png"
                        style="width: 100%; height: auto;"
                    />
                </div>
            </div>

            <div id="panel2" class="panelBox">
                <div id="e1" class="elementBox">
                    <img
                        src="../resources/story/resources/page1/panel2/2-askStartup.png"
                        style="width: 100%; height: auto;"
                    />
                </div>
            </div>

            <div id="arrow" class="scrollArrow">
                <img
                    src="../resources/story/resources/downarrow.png"
                    style="width: 100%; height: auto; top: 150%;"
                />
            </div>
        </div>

        <!-- Page 2 -->
        <div id="page2" class="pageBox" animation="p2tl">
            <!-- Panel 1 (top-left) -->
            <div id="panel1" class="panelBox">
                <!-- Background -->
                <div id="e1" class="elementBox">
                    <img
                        src="../resources/story/resources/page2/panel1/1-bg.png"
                        style="width: 100%; height: auto;"
                    />
                </div>

                <!-- Text -->
                <div id="e2" class="elementBox">
                    <img
                        src="../resources/story/resources/page2/panel1/2-text.png"
                        style="width: 100%; height: auto;"
                    />
                </div>
            </div>

            <!-- Panel 2 (centerpiece) -->
            <div id="panel2" class="panelBox">
                <!-- Background -->
                <div id="e1" class="elementBox">
                    <img
                        src="../resources/story/resources/page2/panel2/1-bg.png"
                        style="width: 100%; height: auto;"
                    />
                </div>

                <!-- Swirls -->
                <div id="e2" class="elementBox">
                    <img
                        src="../resources/story/resources/page2/panel2/2-swirls.png"
                        style="width: 100%; height: auto;"
                    />
                </div>

                <!-- Wrrrr -->
                <div id="e3" class="elementBox">
                    <img
                        src="../resources/story/resources/page2/panel2/3-wrrr.png"
                        style="width: 100%; height: auto;"
                    />
                </div>
            </div>

            <!-- Panel 3 (bottom-right) -->
            <div id="panel3" class="panelBox">
                <!-- Background -->
                <div id="e1" class="elementBox">
                    <img
                        src="../resources/story/resources/page2/panel3/1-bg.png"
                        style="width: 100%; height: auto;"
                    />
                </div>

                <!-- Beeps -->
                <div id="e2" class="elementBox">
                    <img
                        src="../resources/story/resources/page2/panel3/2-beeps.png"
                        style="width: 100%; height: auto;"
                    />
                </div>
            </div>

            <div id="arrow" class="scrollArrow">
                <img
                    src="../resources/story/resources/downarrow.png"
                    style="width: 100%; height: auto; top: 150%;"
                />
            </div>
        </div>

        <!-- Page 3 -->
        <div id="page3" class="pageBox" animation="p3tl">
            <div id="panel1" class="panelBox">
                <!-- Background -->
                <div id="e1" class="elementBox">
                    <img
                        src="../resources/story/resources/page3/panel1/1-bg.png"
                        style="width: 100%; height: auto;"
                    />
                </div>

                <!-- Speech -->
                <div id="e2" class="elementBox">
                    <img
                        src="../resources/story/resources/page3/panel1/2-speech.png"
                        style="width: 100%; height: auto;"
                    />
                </div>

                <!-- Wrrrr -->
                <div id="e3" class="elementBox">
                    <img
                        src="../resources/story/resources/page3/panel1/3-wrrrr.png"
                        style="width: 100%; height: auto;"
                    />
                </div>
            </div>
        </div>

        <!-- Page 4 -->
        <div id="page4" class="pageBox" animation="p4tl">
            <div id="panel1" class="panelBox">
                <!-- Background -->
                <div id="e1" class="elementBox">
                    <img
                        src="../resources/story/resources/page4/panel1/1-bg.png"
                        style="width: 100%; height: auto;"
                    />
                </div>

                <!-- Jill Speechbubble -->
                <div id="e2" class="elementBox">
                    <img
                        src="../resources/story/resources/page4/panel1/2-speech.png"
                        style="width: 100%; height: auto;"
                    />
                </div>

                <!-- Wire tether snapping -->
                <div id="e3" class="elementBox">
                    <img
                        src="../resources/story/resources/page4/panel1/3-wire.png"
                        style="width: 100%; height: auto;"
                    />
                </div>

                <!-- Jack Floating -->
                <div id="e4" class="elementBox">
                    <img
                        src="../resources/story/resources/page4/panel1/4-jack.png"
                        style="width: 100%; height: auto;"
                    />
                </div>

                <!-- Wormhole (to bottom) -->
                <div id="e5" class="elementBox">
                    <img
                        src="../resources/story/resources/page4/panel1/5-wormhole.png"
                        style="width: 100%; height: auto;"
                    />
                </div>
            </div>
        </div>

        <!-- Page 5 -->
        <div id="page5" class="pageBox" animation="p5tl">
            <!-- Portrait (top) -->
            <div id="panel1" class="panelBox">
                <div id="e1" class="elementBox">
                    <img
                        src="../resources/story/resources/page5/panel1/1-jill.png"
                        style="width: 100%; height: auto;"
                    />
                </div>
            </div>

            <!-- Closeup (middle) -->
            <div id="panel2" class="panelBox">
                <div id="e1" class="elementBox">
                    <img
                        src="../resources/story/resources/page5/panel2/1-jill.png"
                        style="width: 100%; height: auto;"
                    />
                </div>
            </div>

            <!-- Closeup with Speech (bottom) -->
            <div id="panel3" class="panelBox">
                <div id="e1" class="elementBox">
                    <img
                        src="../resources/story/resources/page5/panel3/1-jill.png"
                        style="width: 100%; height: auto;"
                    />
                </div>
            </div>
        </div>

        <!-- Page 6 -->
        <div id="page6" class="pageBox">
            <div id="panel1" class="panelBox">
                <!-- Coming soon -->
                <div id="e1" class="elementBox">
                    <img
                        src="../resources/story/resources/page6/panel1/1-comingsoon.png"
                        style="width: 100%; height: auto;"
                    />
                </div>

                <!-- Title -->
                <div id="e2" class="elementBox">
                    <img
                        src="../resources/story/resources/page6/panel1/2-title.png"
                        style="width: 100%; height: auto;"
                    />
                </div>

                <!-- Swirls -->
                <div id="e3" class="elementBox">
                    <img
                        src="../resources/story/resources/page6/panel1/3-swirls.png"
                        style="width: 100%; height: auto;"
                    />
                </div>
            </div>
        </div>

        <!-- Require AnimeJS, JQuery and Waypoints -->
        <script src="../node_modules/animejs/lib/anime.min.js"></script>
        <script src="../node_modules/jquery/dist/jquery.js"></script>
        <script src="../node_modules/waypoints/lib/noframework.waypoints.js"></script>

        <!-- Import Animation scripts -->
        <script src="../resources/story/sources/page0/p0animation.js"></script>
        <script src="../resources/story/sources/page1/p1animation.js"></script>
        <script src="../resources/story/sources/page2/p2animation.js"></script>
        <script src="../resources/story/sources/page3/p3animation.js"></script>
        <script src="../resources/story/sources/page4/p4animation.js"></script>
        <script src="../resources/story/sources/page5/p5animation.js"></script>

        <!-- Animation trigger controller -->
        <script type="text/javascript">
            // create a waypoint to trigger from for each pageBox
            $(".pageBox").each(function(index) {
                var currentPageBox = this;

                // isolate empty animation timeline
                if ($(currentPageBox).attr("animation") != undefined) {
                    new Waypoint({
                        // set the current pageBox to the waypoint element
                        element: currentPageBox,

                        // create trigger function to play pageBox's animation timeline
                        handler: function(direction) {
                            // log pageBox scrolled to
                            console.log(
                                "Scrolled to " +
                                    $(currentPageBox).attr("animation")
                            );

                            // play pageBox's animation timeline
                            window.MarkAnimations[
                                "play" + $(currentPageBox).attr("animation")
                            ]();
                        },

                        // offset the trigger box to 50% so that it will execute once it
                        // has reached the middle of the screen (rather than the top)
                        offset: "50%"
                    });
                }
            });
        </script>
    </body>
</html>
